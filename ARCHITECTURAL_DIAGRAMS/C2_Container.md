# C2: Container Diagram

This diagram zooms into the MobilityCorp platform, showing the high-level containers (applications, microservices, data stores) that constitute the system.

```
┌────────────────────────────────────────────────────────────────────────┐
│                      CONTAINER ARCHITECTURE                            │
└────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                         FRONTEND LAYER                              │
├─────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐             │
│  │   Mobile     │  │  Operations  │  │  Admin       │             │
│  │   App        │  │  Dashboard   │  │  Portal      │             │
│  │  (React      │  │  (React)     │  │  (React)     │             │
│  │   Native)    │  │              │  │              │             │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘             │
└─────────┼──────────────────┼──────────────────┼───────────────────┘
          │                  │                  │
          │                  │                  │
┌─────────▼──────────────────▼──────────────────▼───────────────────┐
│                      API GATEWAY LAYER                             │
├────────────────────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────────┐            │
│  │  API Gateway (Kong/AWS API Gateway)                │            │
│  │  • Authentication (OAuth2/JWT)                     │            │
│  │  • Rate Limiting                                   │            │
│  │  • Request Routing                                 │            │
│  └────────────────────┬───────────────────────────────┘            │
└───────────────────────┼────────────────────────────────────────────┘
                        │
┌───────────────────────▼────────────────────────────────────────────┐
│                    CORE SERVICES LAYER                             │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │
│  │   Booking    │  │   Payment    │  │   User/KYC   │              │
│  │   Service    │  │   Service    │  │   Service    │              │
│  └──────────────┘  └──────────────┘  └──────────────┘              │
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │
│  │   Vehicle    │  │  Telemetry   │  │    Fleet     │              │
│  │  Management  │  │   Service    │  │  Operations  │              │
│  └──────────────┘  └──────────────┘  └──────────────┘              │
│                                                                    │
│  ┌──────────────┐                                                  │
│  │ Notification │                                                  │
│  │   Service    │                                                  │
│  └──────────────┘                                                  │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
                        │
┌───────────────────────▼────────────────────────────────────────────┐
│                  AI/ML SERVICES LAYER  ⭐                          │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ┌──────────────────┐  ┌──────────────────┐  ┌─────────────────┐   │
│  │  Demand          │  │  Dynamic Pricing │  │  Predictive     │   │
│  │  Forecasting     │  │  & Incentive     │  │  Maintenance    │   │
│  │  Engine          │  │  Engine          │  │  Engine         │   │
│  └──────────────────┘  └──────────────────┘  └─────────────────┘   │
│                                                                    │
│  ┌──────────────────┐  ┌──────────────────┐  ┌─────────────────┐   │
│  │  Vision AI       │  │  Conversational  │  │  Multi-Provider │   │
│  │  (Damage         │  │  AI Assistant    │  │  AI Orchestrator│   │
│  │  Detection)      │  │  (MCP)           │  │                 │   │
│  └──────────────────┘  └──────────────────┘  └─────────────────┘   │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
                        │
┌───────────────────────▼────────────────────────────────────────────┐
│                   DATA & EVENT LAYER                               │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ┌────────────────────────────────────────────────────┐            │
│  │  Apache Kafka (Event Bus)                          │            │
│  │  Topics: bookings.*, vehicles.*, predictions.*     │            │
│  └────────────────────────────────────────────────────┘            │
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐            │
│  │  PostgreSQL  │  │    Redis     │  │     S3       │            │
│  │  (Relational)│  │   (Cache)    │  │  (Storage)   │            │
│  └──────────────┘  └──────────────┘  └──────────────┘            │
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐                               │
│  │ TimescaleDB  │  │  VictoriaM.  │                               │
│  │ (Telemetry)  │  │  (Metrics)   │                               │
│  └──────────────┘  └──────────────┘                               │
└────────────────────────────────────────────────────────────────────┘
                        │
┌───────────────────────▼────────────────────────────────────────────┐
│               INFRASTRUCTURE & OBSERVABILITY                       │
├────────────────────────────────────────────────────────────────────┤
│                                                                    │
│  ┌──────────────────┐  ┌──────────────────┐  ┌─────────────────┐ │
│  │ OpenTelemetry    │  │   Grafana        │  │   PagerDuty     │ │
│  │ + VictoriaMetric │  │                  │  │                 │ │
│  │ (Tracing/Logs)   │  │  (Dashboards)    │  │   (Alerts)      │ │
│  └──────────────────┘  └──────────────────┘  └─────────────────┘ │
│                                                                    │
│  ┌──────────────────┐  ┌──────────────────┐                       │
│  │  Airflow         │  │   Temporal       │                       │
│  │  (Batch ML)      │  │  (Workflows)     │                       │
│  └──────────────────┘  └──────────────────┘                       │
└────────────────────────────────────────────────────────────────────┘
```
