# C2: Container Diagram

This diagram zooms into the MobilityCorp platform, showing the high-level containers (applications, microservices, data stores) that constitute the system. This updated version includes Edge Computing, Orchestrator Layer, Data Lakehouse, and all missing components from the review.

[![C2 diagram](https://img.plantuml.biz/plantuml/svg/ZLZBSjis5DthAr0j4djYXssTxZgTo9BiAfPinLBgPkM1I4X23H8i0CfHEjts2_g5_PBUYmUVKf8i8XAyE3Yuk8y3lzM6AbEaelSTps9H98pyF7mJ3Tyy3cLcAC-O-gNNCzm8HieHCk9qesXApibChhZWPZ-KAYTpGSrQghJNUqdcJ6cPQK8DCJBlkTUJkD16faoTaVxGF_RXsQ8mGlES51g6JeCzi5klmM21lsXvbpD53KTamsXQMT8avHaO3F0NBHTxRLXAx3YO0QKPa2UvvqXMiiWIglOzP_XuwTzFWaNWrTvT_vJyrIFmxoMvKk0IbYN8NF3O4RFVIb-Tf7PlrIO7UOxqxXcD3Rc5AJlMhxdZV4rZdcr8Mhea0CCcciWormdLswPNHZ2oabGbvIBzu3yYApCEl1KinJgerc6vL8QAu4uojwzDn9fxkJOEjmFh_JIOJyWrDUoPxjkhvNppZEjK5eX-8xDDD7XOaDRutQ0msn-ZTm_BCm9BCY9uoWtuwum8IHEoee9crdydFtn_GnJxCz8iFcsocSZb4JPS6ikcPe6h8f7MKBgSBhw1mX4EdWY45ICGxpiUitROhAHyig3zI_T45iuGLx-L2NlzXyR7NscM2APX6GJofmjZn2YUwyxfvdIViip0nBbxgiE-epkAltCbWP06L6_UnS4q1SiFy7E4cFsKqenkc5q7EL4ulGxKqpx64_yuF4Hbai1So42oOuglZsN2ZcrvR9FiD_S4kHuMHfHhYVzV2SPCZL87XcUwK71u23G9ptLM2vWveq-kQ0NFbxD8hhWz-1NLB26G3fuNb2e1AngrxooPILDko_glUZtYrraX33-FjpJBc23r-TrJWfAExjkv3VbdCiusyDKUzDviPURoMiWuvB0trCsqkLFnbjbCbweThPJBsbTCcKaqdSuQSveBNh84eko9_FVFlmJALpQOa3NbGkvi-Uy4RGi-16yRFuJD0gEVMV11icVPSMoeOlcwo3041pa5D3BWQYtaCtb5_C0bDfhoEpuzIFLaRIfQwBaNPBoSOiVJCHNj4ZY9PjDZoHxBR4SvTW5uW7vcuQY0IPNJeYdDDiCjvGttlIBtW-lEfX86KPw0sSW-a2ieD37LMAKwOVpxDHGORQBfOZdhUjv5D2BjCvhocCpT2CwSqdILqAY1XfyPD1e3HV7puMHDANQ9pEVPNB64npOkPzM73ij19bCgzYHXXiK7OTUCcWAg84G2ubwvLxB0zmPSPBSYHvUseMG2PeCRxzPh-nHWkhGX1OLY6snsUzlEuPtS-u4EOVSP3nF8eiCQqJ2YXcALQ0N2Q7L22oKLHSV0eMmKMxoVslmSBV1d2OL6qzY7Hm8eRPu0aTZz9QjmQdwhjz9ZVS3gP3irW81FLtjIKYUWS4ZTbGVmySGqu8m5XjJGviWzZbaT4tB4HKAChsSGzreVgb201f72RBxWziApOuolvv0od5dePQYYvEJDwulBAA7xqmE0e78opIXafbD6sSA-z6rtY65FnA53uf2dJ3uBbcoOhTdDCnhliCB0uKBwOrN7H4AFjziNNJ_HgdhSu6kpMhI0kYNe0eFdmWO5cS8fR2MqLnjH5z682Jzgqnu4vsSMBRY0o8gkfKY8e7i8CbIuZlOCmWqs6HZVhQmkS3gs4zB1r0PiEUz5SvQNG5MYHvLNew6GHV9C3JpEuRiQ5Mx22Dero8n174DpZ25X1e8f0s4pWnFaCHB-6qNv-9EBGwAjeDH1ZiCuoZ4lndnRjs7m4uYgDRPoWAWPiq-cAswyOjDLJpXp3Q4vDwKv1lICvg7fQYSRvCPg2VmA_w_a9tUJS7SEkDYGTRW1A2PS4zw2xEf1EtqSoUVwXQUy1q3wEUMsNCuNW5VQ-ijE9UkFMlhBJbEgjwrxjVi9CArhy18eaAhBSCW_SNZPajctcJVeVN5Aht55GBPbemIqS4ce9F6zB8pRxFruiOmsz_EXMpYOLf7mLLElPBzgLsdChvgMxRnfwJRg0ymLO5VAtIxBxOMACYzMWclG5uJjh0X7cMpBYrkjtEHnVGINZmA6xTGQpyw4Pl84-Ty-eaaubYxviEME44GLU8H5cDCes5YLmJhK_DhojZpcaCBOfos0TvIjdwYyThnMUQriU-N5dFy3m3IqDc9xcmLfwePIELq57O2LOtJZAJUDAtNqBTQrjdpOlAKmIYfMIdpPjcBIDkvLOkCB8LUg3hZV9pfwKDp7BKe6jwBBasymBBa4dL1A0YiIG45A8sCflBa_nBeCQADssqHpAvSSWVpbtJMDKYj4GvcY7ztTwVrowPTrrcxnch90N_NFweREfBeQbbVCOvDwqy77km_BnuV9yjV7wVXwV3iwWT6tK8Vnxsp_0m00)](https://editor.plantuml.com/uml/ZLZBSjis5DthAr0j4djYXssTxZgTo9BiAfPinLBgPkM1I4X23H8i0CfHEjts2_g5_PBUYmUVKf8i8XAyE3Yuk8y3lzM6AbEaelSTps9H98pyF7mJ3Tyy3cLcAC-O-gNNCzm8HieHCk9qesXApibChhZWPZ-KAYTpGSrQghJNUqdcJ6cPQK8DCJBlkTUJkD16faoTaVxGF_RXsQ8mGlES51g6JeCzi5klmM21lsXvbpD53KTamsXQMT8avHaO3F0NBHTxRLXAx3YO0QKPa2UvvqXMiiWIglOzP_XuwTzFWaNWrTvT_vJyrIFmxoMvKk0IbYN8NF3O4RFVIb-Tf7PlrIO7UOxqxXcD3Rc5AJlMhxdZV4rZdcr8Mhea0CCcciWormdLswPNHZ2oabGbvIBzu3yYApCEl1KinJgerc6vL8QAu4uojwzDn9fxkJOEjmFh_JIOJyWrDUoPxjkhvNppZEjK5eX-8xDDD7XOaDRutQ0msn-ZTm_BCm9BCY9uoWtuwum8IHEoee9crdydFtn_GnJxCz8iFcsocSZb4JPS6ikcPe6h8f7MKBgSBhw1mX4EdWY45ICGxpiUitROhAHyig3zI_T45iuGLx-L2NlzXyR7NscM2APX6GJofmjZn2YUwyxfvdIViip0nBbxgiE-epkAltCbWP06L6_UnS4q1SiFy7E4cFsKqenkc5q7EL4ulGxKqpx64_yuF4Hbai1So42oOuglZsN2ZcrvR9FiD_S4kHuMHfHhYVzV2SPCZL87XcUwK71u23G9ptLM2vWveq-kQ0NFbxD8hhWz-1NLB26G3fuNb2e1AngrxooPILDko_glUZtYrraX33-FjpJBc23r-TrJWfAExjkv3VbdCiusyDKUzDviPURoMiWuvB0trCsqkLFnbjbCbweThPJBsbTCcKaqdSuQSveBNh84eko9_FVFlmJALpQOa3NbGkvi-Uy4RGi-16yRFuJD0gEVMV11icVPSMoeOlcwo3041pa5D3BWQYtaCtb5_C0bDfhoEpuzIFLaRIfQwBaNPBoSOiVJCHNj4ZY9PjDZoHxBR4SvTW5uW7vcuQY0IPNJeYdDDiCjvGttlIBtW-lEfX86KPw0sSW-a2ieD37LMAKwOVpxDHGORQBfOZdhUjv5D2BjCvhocCpT2CwSqdILqAY1XfyPD1e3HV7puMHDANQ9pEVPNB64npOkPzM73ij19bCgzYHXXiK7OTUCcWAg84G2ubwvLxB0zmPSPBSYHvUseMG2PeCRxzPh-nHWkhGX1OLY6snsUzlEuPtS-u4EOVSP3nF8eiCQqJ2YXcALQ0N2Q7L22oKLHSV0eMmKMxoVslmSBV1d2OL6qzY7Hm8eRPu0aTZz9QjmQdwhjz9ZVS3gP3irW81FLtjIKYUWS4ZTbGVmySGqu8m5XjJGviWzZbaT4tB4HKAChsSGzreVgb201f72RBxWziApOuolvv0od5dePQYYvEJDwulBAA7xqmE0e78opIXafbD6sSA-z6rtY65FnA53uf2dJ3uBbcoOhTdDCnhliCB0uKBwOrN7H4AFjziNNJ_HgdhSu6kpMhI0kYNe0eFdmWO5cS8fR2MqLnjH5z682Jzgqnu4vsSMBRY0o8gkfKY8e7i8CbIuZlOCmWqs6HZVhQmkS3gs4zB1r0PiEUz5SvQNG5MYHvLNew6GHV9C3JpEuRiQ5Mx22Dero8n174DpZ25X1e8f0s4pWnFaCHB-6qNv-9EBGwAjeDH1ZiCuoZ4lndnRjs7m4uYgDRPoWAWPiq-cAswyOjDLJpXp3Q4vDwKv1lICvg7fQYSRvCPg2VmA_w_a9tUJS7SEkDYGTRW1A2PS4zw2xEf1EtqSoUVwXQUy1q3wEUMsNCuNW5VQ-ijE9UkFMlhBJbEgjwrxjVi9CArhy18eaAhBSCW_SNZPajctcJVeVN5Aht55GBPbemIqS4ce9F6zB8pRxFruiOmsz_EXMpYOLf7mLLElPBzgLsdChvgMxRnfwJRg0ymLO5VAtIxBxOMACYzMWclG5uJjh0X7cMpBYrkjtEHnVGINZmA6xTGQpyw4Pl84-Ty-eaaubYxviEME44GLU8H5cDCes5YLmJhK_DhojZpcaCBOfos0TvIjdwYyThnMUQriU-N5dFy3m3IqDc9xcmLfwePIELq57O2LOtJZAJUDAtNqBTQrjdpOlAKmIYfMIdpPjcBIDkvLOkCB8LUg3hZV9pfwKDp7BKe6jwBBasymBBa4dL1A0YiIG45A8sCflBa_nBeCQADssqHpAvSSWVpbtJMDKYj4GvcY7ztTwVrowPTrrcxnch90N_NFweREfBeQbbVCOvDwqy77km_BnuV9yjV7wVXwV3iwWT6tK8Vnxsp_0m00)

###  Components:

1. **Admin Portal** (Frontend)
2. **KYC Service** (split from User Service)
3. **Incentive Engine** (relocation incentives calculation)
4. **Incident Management Service** (collision alerts, dispatch)
5. **Orchestrator Layer** (AI/LLM, Payment, Map, Weather orchestrators)
6. **Feature Store** (SageMaker - online/offline)
7. **Model Registry** (SageMaker - versioning, approval)
8. **MLOps Pipelines** (SageMaker Pipelines)
9. **OpenSearch Serverless** (Vector DB for RAG)
10. **ElastiCache Redis** (caching layer)
11. **Data Lakehouse** (Bronze/Silver/Gold layers)
12. **Apache Airflow ETL Jobs**
13. **EventBridge** (scheduled events)
14. **Edge Compute Layer** (IoT Greengrass + Edge ML)
15. **SageMaker Model Monitor** (drift detection)
16. **Multi-Region Infrastructure** (Route 53, Global DB, Global Tables, S3 CRR)

### ðŸ“Š Scale & Performance:

- **API Gateway:** 10K requests/second
- **Kafka:** 50 partitions/topic, 3 brokers
- **Telemetry:** 4.3 billion events/day
- **Edge Devices:** 50K IoT Greengrass instances
- **IoT Core:** 130B MQTT messages/month
- **Multi-Region:** <30s failover RTO


## Related Documents:

- [C1: System Context](C1_System_Context.md)
- [C3: AI/ML Component Diagram](C3_Component_AIML.md)
- [ADR-05: Orchestrator Pattern](./ADR/ADR_05_Orchestrator.md)
- [ADR-15: MLOps Pipeline](./ADR/ADR_15_MLOps_Pipeline.md)
- [ADR-16: Data Lakehouse Strategy](./ADR/ADR_16_Data_Lakehouse_Strategy.md)
- [ADR-18: Edge vs Cloud AI Strategy](./ADR/ADR_18_Edge_Cloud_AI_Strategy.md)

---
