# C2: Container Diagram

This diagram zooms into the MobilityCorp platform, showing the high-level containers (applications, microservices, data stores) that constitute the system. This updated version includes Edge Computing, Orchestrator Layer, Data Lakehouse, and all missing components from the review.

[![C2 Diagram](https://img.plantuml.biz/plantuml/svg/ZLZBSjis5DthAr0j4djYXssIJZUTJcH9TXLBjc8fTRFoG2GaeGO15WJbA9rk-mNzmdv9xyM3Job95X49NXmSNDp7WT_cXcfJfABt7PUnA196VXw-YOPl7ePA6iebqx_qUeORmKWvGaQSRZHDoJcPgHKNtEo7IcTaBgXPAvtsUi_9dEbSoPnGGupAUkxr92voerAcpqX_w1_xy6nH6A5PHeeSXaw3FR1Rhy5WWRzeUPinJGr7PCDeMbdI9EKI30RuYvQBVMvOIkmuc06b6P0dcUT8LggG2TNxdZDykF3l9y4Yy6hlhdzA_keH-FUSN6fm2PC9CXSyTiJijz9N9wdTMxN9GPOXlJj6OqDkOCgEzMlkE5_JcCiDIKkN163OH1DPPNb2ystJAoCOMIcgatAHVl0VKPKP1zuQbc8TLEkmJ6b3HN0dcTlN9cBDlJmt3hS3w_qqc4_85JNiYUxRgsLyyuJhL1Q8Vgta9XhSBqXh_7PGcEshwDtzyep0aem8dd83_ZeZGj64hAYWqlhlv8VlhubcVqOvYq-RR2PgUOGDLyQogLdWgaYaDPGkfujle724WoS2OSK8nFkEnwmTDYkb7Yre_y8zaOKpnDLlLC9U_f7ZuwzK9eBbi0m2-TE5CM8qp_BEwMPqdp9fOEBSFTLXtz4TnT-vLa0e1rHltiN1D0NB3_1pX9Zzb599DyokWvmed5u7wd4Vuub_71wYCabWBcGWsJ7DrySoOSUsFBP9zfjxWbmF2oFAbSB_BmLZfaQf0yDbNcWuF0IQXESwgmNCdD57LxI2vyjP9DFS7loAvYmXa0wU5vGg0IiQlUyiAPKfjsNzLxqUyUki48QVnrig9HEaFhzxIb3IqNqxjo7_JCPo0r_jGU_DLacNrqB58OUzOTvCcriTRvdDTANRqKgvgdt5b9b4q-ciCQUvu0LB8CeUoN___4kWVCd1XAmf5sfdotydQ5lm8NZR-25i5XZzp88FaZsJnx6XYcNhGc883Z8AQ6J0zLge9_A2-84BR3JbTtowL_hHsbIqq7FFo7WvnOwNnrIqI-0acasF9Nkiv8vox0Bm0FtCmb41aogdHLCgDyCjvGttlI1tWwlEfX86KPw0sSW-a4ieD37DiKfrmlZtAoWmkOccY-MiwtaNqOYqbpJbCPcx4PmvfUageL433JypQ3G6YkBdmycQKkmIqkVPNBE4npOkPzM73ik1L2aLUv8mm-A3i6j6JG5L4281SI_TArdWUmCkibjHemlRKAI0sU36s_NQFWMOBcr8GQ7P1flTthPpU2TtVg13s7t6mmIowB16D8oeeLWbMe4mMftGGYjDqJ5mA1lD5k-dDZz72_nPGg79QUp38m6KDa-0IEp-abKuDR_L6-MnFc1rifqQGC2dgpqfgHDGEAJkoWFuU68vu8m5XjJGviWTZbaT4tB4HKAChsSGztb-g4816aGAi_c2smlFZZ6-daFAS6QXbw6AafEVNhwQHGdTdnu019KZSqOXCvqoaWlxqhVT8OOz4OSEYKCUfNeIBDamMxERPpJUOOM1muNqnwgEYOGURxSlkdwaLVMunjTcjMW1TKlGQmoUrpOeo1HEOQkWlTg8UXsDcF2ZDkr1S7vcqO8BYApeIec42Bg784E5wsZF8DnWau7nxShg0gTZEo4TJ6t0blEUDMTv2LGbUbHvDHeALIHFrC3Z7BxhKU4cZA1TWymOn34qnnWIPY2ODX0sCpX17YFXlr6KZp-vE2Iv5PHvaECmZdBCYp7VrcqO_0YYQesj721gnkoJwOeRhzZogYUSkORGd9lI30DwHhFGT7Cd6zJ6QWdy2l-lr2Ttat1t3hZOa7Mu0MWcN1FUWkpgGJjz6Acd-eMdl0T0-ZdbjbpE5u1NslhBJYNhZrhwoqvJghUjUxNx2J2jQ_0IA92got38Ft5usPBPjvatw7rnIgznHK2sPQC4j719g2JndIgCs-pTUB6CDdVpeLiuc5QHy5LJhsI_QbTfpA-QbksyQUaswWFC5M1Nojqko-s5YZ8lLeBde2y8sraHZZBPbXUtMhd9u_e8BXy53DkfDPwT2Sta2VA_VKIJS2nTyc7B7I68Al08Yp2dKR2nAeDrgFcrvMrvp225iKzR0EyeMpzHUUruhV9QsVR2Ypd_1u1fQ6t4zZOBqjGDfNAw33e0AyVesbDk6bVgw5kiQstvi7bBOPHKh9Juict5f6tSgyJ65qAkL1rmlq_ow5vp7xSe6ToABa--mR3a4dH2AGciI005gOoAbV3c_X3hCg2DscqJpQrSS0JobtVND4gj40rLYdvqTwVtowLVrbcxnMlA0dtLFmk6lUdWu-s7vSFzPFdhmtHyDRuPdS3eMoYf-2Up_m40)](https://editor.plantuml.com/uml/ZLZBSjis5DthAr0j4djYXssIJZUTJcH9TXLBjc8fTRFoG2GaeGO15WJbA9rk-mNzmdv9xyM3Job95X49NXmSNDp7WT_cXcfJfABt7PUnA196VXw-YOPl7ePA6iebqx_qUeORmKWvGaQSRZHDoJcPgHKNtEo7IcTaBgXPAvtsUi_9dEbSoPnGGupAUkxr92voerAcpqX_w1_xy6nH6A5PHeeSXaw3FR1Rhy5WWRzeUPinJGr7PCDeMbdI9EKI30RuYvQBVMvOIkmuc06b6P0dcUT8LggG2TNxdZDykF3l9y4Yy6hlhdzA_keH-FUSN6fm2PC9CXSyTiJijz9N9wdTMxN9GPOXlJj6OqDkOCgEzMlkE5_JcCiDIKkN163OH1DPPNb2ystJAoCOMIcgatAHVl0VKPKP1zuQbc8TLEkmJ6b3HN0dcTlN9cBDlJmt3hS3w_qqc4_85JNiYUxRgsLyyuJhL1Q8Vgta9XhSBqXh_7PGcEshwDtzyep0aem8dd83_ZeZGj64hAYWqlhlv8VlhubcVqOvYq-RR2PgUOGDLyQogLdWgaYaDPGkfujle724WoS2OSK8nFkEnwmTDYkb7Yre_y8zaOKpnDLlLC9U_f7ZuwzK9eBbi0m2-TE5CM8qp_BEwMPqdp9fOEBSFTLXtz4TnT-vLa0e1rHltiN1D0NB3_1pX9Zzb599DyokWvmed5u7wd4Vuub_71wYCabWBcGWsJ7DrySoOSUsFBP9zfjxWbmF2oFAbSB_BmLZfaQf0yDbNcWuF0IQXESwgmNCdD57LxI2vyjP9DFS7loAvYmXa0wU5vGg0IiQlUyiAPKfjsNzLxqUyUki48QVnrig9HEaFhzxIb3IqNqxjo7_JCPo0r_jGU_DLacNrqB58OUzOTvCcriTRvdDTANRqKgvgdt5b9b4q-ciCQUvu0LB8CeUoN___4kWVCd1XAmf5sfdotydQ5lm8NZR-25i5XZzp88FaZsJnx6XYcNhGc883Z8AQ6J0zLge9_A2-84BR3JbTtowL_hHsbIqq7FFo7WvnOwNnrIqI-0acasF9Nkiv8vox0Bm0FtCmb41aogdHLCgDyCjvGttlI1tWwlEfX86KPw0sSW-a4ieD37DiKfrmlZtAoWmkOccY-MiwtaNqOYqbpJbCPcx4PmvfUageL433JypQ3G6YkBdmycQKkmIqkVPNBE4npOkPzM73ik1L2aLUv8mm-A3i6j6JG5L4281SI_TArdWUmCkibjHemlRKAI0sU36s_NQFWMOBcr8GQ7P1flTthPpU2TtVg13s7t6mmIowB16D8oeeLWbMe4mMftGGYjDqJ5mA1lD5k-dDZz72_nPGg79QUp38m6KDa-0IEp-abKuDR_L6-MnFc1rifqQGC2dgpqfgHDGEAJkoWFuU68vu8m5XjJGviWTZbaT4tB4HKAChsSGztb-g4816aGAi_c2smlFZZ6-daFAS6QXbw6AafEVNhwQHGdTdnu019KZSqOXCvqoaWlxqhVT8OOz4OSEYKCUfNeIBDamMxERPpJUOOM1muNqnwgEYOGURxSlkdwaLVMunjTcjMW1TKlGQmoUrpOeo1HEOQkWlTg8UXsDcF2ZDkr1S7vcqO8BYApeIec42Bg784E5wsZF8DnWau7nxShg0gTZEo4TJ6t0blEUDMTv2LGbUbHvDHeALIHFrC3Z7BxhKU4cZA1TWymOn34qnnWIPY2ODX0sCpX17YFXlr6KZp-vE2Iv5PHvaECmZdBCYp7VrcqO_0YYQesj721gnkoJwOeRhzZogYUSkORGd9lI30DwHhFGT7Cd6zJ6QWdy2l-lr2Ttat1t3hZOa7Mu0MWcN1FUWkpgGJjz6Acd-eMdl0T0-ZdbjbpE5u1NslhBJYNhZrhwoqvJghUjUxNx2J2jQ_0IA92got38Ft5usPBPjvatw7rnIgznHK2sPQC4j719g2JndIgCs-pTUB6CDdVpeLiuc5QHy5LJhsI_QbTfpA-QbksyQUaswWFC5M1Nojqko-s5YZ8lLeBde2y8sraHZZBPbXUtMhd9u_e8BXy53DkfDPwT2Sta2VA_VKIJS2nTyc7B7I68Al08Yp2dKR2nAeDrgFcrvMrvp225iKzR0EyeMpzHUUruhV9QsVR2Ypd_1u1fQ6t4zZOBqjGDfNAw33e0AyVesbDk6bVgw5kiQstvi7bBOPHKh9Juict5f6tSgyJ65qAkL1rmlq_ow5vp7xSe6ToABa--mR3a4dH2AGciI005gOoAbV3c_X3hCg2DscqJpQrSS0JobtVND4gj40rLYdvqTwVtowLVrbcxnMlA0dtLFmk6lUdWu-s7vSFzPFdhmtHyDRuPdS3eMoYf-2Up_m40)

###  Components:

1. **Admin Portal** (Frontend)
2. **KYC Service** (split from User Service)
3. **Incentive Engine** (relocation incentives calculation)
4. **Incident Management Service** (collision alerts, dispatch)
5. **Orchestrator Layer** (AI/LLM, Payment, Map, Weather orchestrators)
6. **Feature Store** (SageMaker - online/offline)
7. **Model Registry** (SageMaker - versioning, approval)
8. **MLOps Pipelines** (SageMaker Pipelines)
9. **OpenSearch Serverless** (Vector DB for RAG)
10. **ElastiCache Redis** (caching layer)
11. **Data Lakehouse** (Bronze/Silver/Gold layers)
12. **Apache Airflow + BEAM ETL Jobs**
13. **EventBridge** (scheduled events)
14. **Edge Compute Layer** (IoT Greengrass + Edge ML)
15. **SageMaker Model Monitor** (drift detection)
16. **Multi-Region Infrastructure** (Route 53, Global DB, Global Tables, S3 CRR)

### ðŸ“Š Scale & Performance:

- **API Gateway:** 10K requests/second
- **Kafka:** 50 partitions/topic, 3 brokers
- **Telemetry:** 4.3 billion events/day
- **Edge Devices:** 50K IoT Greengrass instances
- **IoT Core:** 130B MQTT messages/month
- **Multi-Region:** <30s failover RTO


## Related Documents:

- [C1: System Context](C1_System_Context.md)
- [C3: AI/ML Component Diagram](C3_Component_AIML.md)
- [ADR-05: Orchestrator Pattern](./ADR/ADR_05_Orchestrator.md)
- [ADR-14: MLOps Pipeline](./ADR/ADR_14_MLOps_Pipeline.md)
- [ADR-16: Data Lakehouse Strategy](./ADR/ADR_16_Data_Lakehouse_Strategy.md)
- [ADR-18: Edge vs Cloud AI Strategy](./ADR/ADR_18_Edge_Cloud_AI_Strategy.md)

---
